= Вкладка "Основная"

Вкладка _Основная_ предназначена для настройки и отображения основных параметров карточки.

.Вкладка "Основная" для Автора задания
image::task-group-main-tab.png[Вкладка "Основная" для Автора задания]

.Вкладка включает следующие поля:
* <<author,Автор>> -- имя сотрудника, создавшего данную карточку.
* <<name,Название>> -- название группы заданий.
* <<performance-option,Вариант исполнения>> -- последовательность отправки заданий исполнителям группы заданий.
* _Дата начала_, _Дата завершения_, _Длительность (ч)_, _Трудоемкость (ч)_ -- сроки исполнения группы заданий, см. раздел <<duration,Указание>> сроков исполнения группы заданий.
* <<importance,Важность>> -- категория важности, с которой должна быть выполнена группа заданий.
* <<name,Содержание>> -- краткое описание группы заданий.
* <<performer,Исполнители>>, _Ответственный исполнитель_ -- выбор исполнителей группы заданий. Поле позволяет также изменить xref:task-group/individual-settings.adoc[индивидуальные настройки] исполнителя.
* _На контроле_, _Дата контроля_, _Контролёр_, _Требуется приёмка_ -- настройка контроля за выполнением группы заданий, см. раздел <<control,Настройка>> контроля и приёмки выполнения заданий.

[#author]
== Выбрать автора группы заданий

В поле _Автор_ автоматически появляется имя сотрудника, создавшего данную карточку. _Автором_ может быть только пользователь, зарегистрированный в _Справочнике сотрудников_.

// include::partial$excerpts.adoc[tags=lync]

.Чтобы изменить автора задания:
. Выберите _Автора_ из _Справочника сотрудников_ нажатием кнопки image:buttons/three-dots.png[Три точки] в правой части строки.
+
[NOTE]
====
Для выбора значения в поле из _Справочника сотрудников_ должна быть включена настройка "Разрешить выбор автора из Справочника сотрудников" в _Справочнике видов карточек_ для вида карточки задания.
====
+
. В окне _Выбор сотрудника_ выберите нужную запись, затем нажмите на кнопку image:buttons/check.png[Зелёная галочка].
. Если имя сотрудника заранее известно, введите в поле _Автор_ первые буквы имени сотрудника и выберите нужный вариант из выпадающего списка (если введённым символам соответствует имя хотя бы одного сотрудника).
. Из раскрывающегося списка данного поля можно также выбрать заместителей сотрудников нажатием на кнопку image:buttons/triangle-down.png[Треугольник вниз].

[#name]
== Название и содержание группы заданий

.Чтобы определить название и содержание задания:
. Создайте карточку _Группа заданий_.
. В поле _Название_ укажите название задания, которое будет отображаться в заголовке окна задания и _Области представления_ {wincl}а.
. В поле _Содержание_ укажите суть группы заданий в виде короткого текстового резюме.

[#duration]
== Сроки исполнения группы заданий

Укажите сроки исполнения _Группы заданий_ в следующих полях:

* _Дата начала_ -- предполагаемая дата начала выполнения группы заданий исполнителями.
+
По умолчанию используется текущая дата и время.
+
* _Дата завершения_ -- планируемая дата завершения выполнения группы заданий исполнителями.
* _Длительность (ч.)_ -- в поле будет автоматически рассчитана длительность выполнения группы заданий (в часах) на основании указанных дат начала и завершения.
+
Допускается вводить десятичные знаки (например, `3,5`). Значение поля _Длительность_ может указываться в днях или часах в зависимости от настройки элемента управления в Конструкторе разметок.
+
Формат отображения дат начала и завершения также определяется в настройках элементов разметки. Если в задании указаны единицы измерения длительности часы, плановые даты вычисляются с учетом текущего времени. Если указаны дни, то `1 день` -- это завтрашняя дата до 23:59.
+
* _Трудоемкость (ч.)_ -- в поле можно указать, сколько часов из отведенного периода должна занять работа над заданием.
+
.Настройка сроков исполнения группы заданий
image::task-group-deadlines.png[Настройка сроков исполнения группы заданий]

[#auto-duration]
=== Автоматическое заполнение сроков

Сроки могут также заполняться в автоматическом режиме.

.Данные поля будут заполняться по следующим правилам:
* При заполнении полей _Дата начала_ и _Длительность_ автоматически вычисляется дата завершения.
* При заполнении полей _Дата начала_ и _Дата завершения_ автоматически вычисляется длительность.
* При заполнении полей _Дата завершения_ и _Длительность_ автоматически вычисляется дата начала.

Автоматический расчет будет производиться, только если одновременно заданы два параметра. При необходимости пользователь может указать только один из параметров, или оставить поля пустыми. При расчете используется календарь исполнителя.

Если исполнитель не задан, расчет будет выполнен по встроенному правилу: _рабочий день пн-пт 9-13+14-18_.

.Если в качестве исполнителя задания указано:
* Подразделение, будет учитываться календарь подразделения. Если календарь подразделения отсуствует, будет использован календарь по умолчанию из настроек делопроизводства в _Справочнике сотрудников_.
* Несколько исполнителей с разными календарями (когда однозначно невозможно определить календарь исполнителя), будет учитываться календарь по умолчанию.
+
Если календарь по умолчанию не задан, дата завершения рассчитывается по встроенному правилу: _рабочий день пн-пт 9-13+14-18_.
+
* Группа или роль, будет учитываться календарь по умолчанию. Если календарь по умолчанию не задан, дата рассчитывается по встроенному правилу.

Если поля _Дата начала_ и _Длительность_ изменены, при расчете даты завершения могут учитываться настройки заданных в системе календарей следующим образом:

* Будет применяться Бизнес-календарь сотрудника -- создателя карточки, если:
** Данный календарь задан в _Справочнике сотрудников_.
** В _Справочнике видов карточек_ для карточки Задания установлен флаг `*Использовать бизнес-календарь*`.
* Будет применяться Бизнес-календарь сотрудника -- исполнителя карточки, если:
** Данный календарь задан в _Справочнике сотрудников_.
** В _Справочнике видов карточек_ для карточки Задания установлен флаг *`Использовать бизнес-календарь*`.
** В индивидуальных настройках исполнителя установлен соответствующий флаг.
+
При том, если исполнителем является подразделение, будет использован календарь подразделения. Но если исполнителем является группа или роль, будет использован календарь задачи.
+
* Будет применяться "Календарь по умолчанию", если:
** Данный календарь задан в справочнике _Системные настройки_.
** И при этом не задан Бизнес-календарь в _Справочнике сотрудников_.
* Будет применяться "Системный календарь", если:
** В _Справочнике сотрудников_ не задан "Бизнес-календарь".
** И в справочнике _Системные настройки_ не задан "Календарь по умолчанию".
+
Если календарь недоступен по какой-либо причине, будет использован календарь группы заданий.
+
Сроки, указанные в карточке _Группа заданий_ по умолчанию будут отображаться в сроках индивидуальных настроек исполнителей. Если индивидуальные сроки превысят указанные в Группе заданий, при отправке группы заданий на выполнение пользователю будет выдано сообщение с предупреждением.

При _последовательной_ маршрутизации в _Группе заданий_ расчет времени исполнения для исполнителей производится по следующим правилам:

* Если индивидуальные настройки не заданы, время будет распределено поровну между всеми исполнителями.
+
Если один из исполнителей -- подразделение или группа, он будет считаться за *одного* исполнителя.
+
* Если для одного или нескольких исполнителей заданы индивидуальные настройки, время распределяется в соответствии с данными настройками.
+
Однако, время начала и окончания задания не должно выходить за границы общего времени _Группы заданий_, также учитывается время начала-окончания для предыдущих и последующих исполнителей.
+
При настройке времени используется механизм подсказок, с указанием рекомендуемого времени начала и завершения заданий.

[#importance]
== Указать важность выполнения группы заданий

.Чтобы указать важность для _Группы заданий_:
. Создайте карточку _Группа заданий_.
. В поле _Важность_ укажите категорию важности, с которой должна быть выполнена группа заданий.
+
Возможен выбор из трёх вариантов: *_Низкая_*, *_Нормальная_*, *_Высокая_*.

[#performer]
== Выбор исполнителя группы заданий

В число исполнителей _Группы заданий_ могут входить Сотрудники, Подразделения, Группы, Роли _Справочника сотрудников_, поисковые слова. Данные категории будут доступны для выбора в карточке при соблюдении следующих условий:

* В _Справочнике сотрудников_ должны быть настроены указанные категории (созданы записи на сотрудников, имеются наполненные группы, подразделения, роли).
* В _Справочнике видов карточек_ должен быть определён список доступных исполнителей.

Список доступных поисковых слов для Группы заданий ограничен вариантами: _Все подчиненные_, _Заместители_, _Сотрудники департамента Автора_.

.Поле "Исполнители" группы заданий
image::task-group-performers.png[Поле "Исполнители" группы заданий]

После выбора исполнителя, для него можно задать xref:task-group/individual-settings.adoc[индивидуальные настройки].

[#from-search]
=== Выбрать исполнителя группы заданий из быстрого поиска

.Чтобы выбрать исполнителя при помощи быстрого поиска сотрудников, групп, подразделений, ролей и поисковых слов:
. Введите в строку быстрого поиска первые буквы имени, чтобы отобразить список всех подходящих вариантов.
+
. Добавьте результат в список выбранных исполнителей нажатием кнопки image:buttons/frame-plus.png[Рамка с плюсом].
. Удалите ненужные записи нажатием на кнопку image:buttons/x-red.png[Красный керестик].
+
. Нажмите на кнопку image:buttons/book.png[Тетрадь] или клавишу kbd:[Insert] на клавиатуре, чтобы выбрать исполнителя из доступных.
+
В появившемся окне _Справочника сотрудников_ можно не только выбрать существующую запись, но и создать новые или добавить сотрудников в созданный элемент. При выборе подразделения в таблице могут отображаться как название подразделения (в случае использования опции *_Подразделение_*), либо фамилии сотрудников подразделения (в случае использования опции *_Сотрудники_* с последующим выбором подразделения).
+
.Выбор исполнителя из Справочника сотрудников
image::select-performer-from-dir.png[Выбор исполнителя из Справочника сотрудников]
+
. Двойным щелчком мыши на записи выберите исполнителя.
+
Из справочника можно выбрать несколько исполнителей. Также можно выбрать исполнителей из ограниченного списка, предопределённых поисковых слов и последних исполнителей.
+
. В поле _Ответственный исполнитель_ можно назначить одного из ранее выбранных исполнителей ответственным за выполнение группы заданий. Если в качестве исполнителя выбрана группа сотрудников, в поле _Ответственный_ будут показаны сотрудники группы.
+
Сотрудник, назначенный ответственным, получит доступ к заданиям всех остальных исполнителей и при необходимости сможет завершить, отложить или изменить сроки выполнения задания.

[#from-list]
=== Выбрать исполнителя группы заданий из ограниченного списка сотрудников

NOTE: Использование данного способа (включая отображение кнопки image:buttons/star.png[Звезда]) определяется настройками вида _Задания_, указанного в настройках группы заданий в _Справочнике видов карточек_.

.Чтобы использовать ограниченный список исполнителей:
. Выберите исполнителя из заранее сформированного списка нажатием на кнопку image:buttons/star.png[Звезда] в окне _Выбор исполнителя_.
+
.Выбор исполнителя из ограниченного списка сотрудников
image::select-performers-from-list.png[Выбор исполнителя из ограниченного списка сотрудников]
+
. Выберите исполнителя двойным щелчком мыши на записи.
+
Из списка можно выбрать нескольких исполнителей. Также можно использовать предопределённые поисковые слова и последних исполнителей.
+
Для каждого исполнителя по умолчанию указаны _Имя_ и _Вид_.

[#from-context]
=== Выбрать исполнителя группы заданий из контекстного меню

.Сотрудников также можно выбрать при помощи контекстного меню:
. При вызове контекстного меню на пустой области таблицы доступны команды:
+
* Добавить сотрудников.
* Добавить подразделения.
* Добавить группы.
* Добавить роли.
+
. При вызове меню на заполненной строке таблицы доступны команды:
+
* Добавить сотрудников.
* Добавить подразделения.
* Добавить группы.
* Добавить роли.
* Изменить.
* Удалить.

[#performance-option]
== Варианты исполнения группы заданий

Для карточки _Группа заданий_ предусмотрены два варианта исполнения: *_Последовательно_* и *_Параллельно_* (по умолчанию).

При выборе варианта *_Последовательный_* исполнители получат задания из _Группы заданий_ в очередности, указанной в списке исполнителей.

При выборе варианта *_Параллельный_* все исполнители получат задания одновременно.

.Выбор варианта исполнения для группы заданий
image::task-group-performance-mode.png[Выбор варианта исполнения для группы заданий]

[#control]
== Настроить контроль и приёмку выполнения заданий

При настройке карточки _Группы заданий_ можно предусмотреть контроль выполнения заданий ответственным сотрудником.

.Настройка контроля при параллельном варианте исполнения группы заданий
image::task-group-controller.png[Настройка контроля при параллельном варианте исполнения группы заданий]

.Заполните следующие поля, чтобы настроить контроль:
. `*На контроле*` -- когда флаг установлен, становятся активными поля для назначения _Контролёра_ и сроков выполнения контроля.
. _Дата контроля_ -- в поле можно указать дату, когда должен быть выполнен контроль выполнения задания. Дату можно выбрать при помощи встроенного календаря, который открывается нажатием кнопки раскрытия списка.
+
include::partial$excerpts.adoc[tags=available]
+
. _Контроль до завершения (ч.)_ -- в поле можно указать количество часов, выделенных на контроль задания относительно значения поля _Дата завершения_.
+
include::partial$excerpts.adoc[tags=available]
+
.Настройка контроля при последовательном варианте исполнения группы заданий
image::group-control-consecutive.png[Настройка контроля при последовательном варианте исполнения группы заданий]
+
. _Контролёр_ -- в поле необходимо указать фамилию сотрудника, контролирующего качество выполнения задания. Выбрать сотрудника можно из _Справочника сотрудников_, который открывается нажатием кнопки image:buttons/three-dots.png[Три точки] в правой части поля.
+
.Возможны различные варианты настройки контроля и приёмки заданий, создаваемых при помощи Группы заданий:
* В карточке установлены флаги *Требуется приёмка* и *На контроле*:
** Если одновременно указаны _Контролёр_ и _Ответственный исполнитель_, _Контролёр_ будет проверять выполнение задания только _Ответственного исполнителя_. Задания остальных исполнителей на приёмку после завершения не переходят.
** Если указан только _Контролёр_, а _Ответственный исполнитель_ -- нет, _Контролёру_ на приёмку переходят задания всех исполнителей.
* В карточке установлен только флаг `*Требуется приёмка*`:
** Если указан _Ответственный исполнитель_, все задания (кроме задания _Ответственного исполнителя_) в состоянии `На приёмке` переходят _Ответственному исполнителю_.
+
При *_Последовательном_* варианте исполнения, пока предыдущее задание находится в состоянии `На приёмке`, следующее задание не будет выслано следующему исполнителю. Отправка произойдет только после перехода предыдущего задания в состояние `Завершено`.
+
* В карточке установлен только флаг `*На контроле*`:
** _Контролёр_ может осуществлять контроль выполнения заданий, но все завершённые задания сразу переходят в состояние `Завершено` и не переходят на приёмку.
+
* Если в карточке _Группа заданий_ установлен флаг `*На контроле*`, то в тех экземплярах заданий, которые по завершении должны перейти в состояние `На приёмке`, также устанавливается флаг `*На контроле*`, а в поле _Контролёр_ переносится значение либо из поля _Контролёр_ (если указан _Контролёр_), либо из поля _Ответственный исполнитель_ (если не указан _Контролёр_, но указан _Ответственный исполнитель_).
