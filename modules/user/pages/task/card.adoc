= Работа с карточкой "Задание"

Карточка _Задание_, входящая в состав библиотеки _{bo}_, предназначена для доставки на рабочие места пользователей информации о необходимости выполнения того или иного действия в рамках налаженного документооборота, а также доставки файлов, карточек и ссылок на внешние по отношению к системе _{dv}_ объекты.

Карточка входит в комплект поставки системы _{dv} 5_. Название карточки соответствует названию её типа в _Справочнике видов карточек_.

Карточка _Задание_ является ключевым элементом как приложения _{ud}_, так и модуля _Управление процессами_. Карточка может быть настроена для поддержки различных сценариев обработки файлов, карточек, других объектов.

Средства настройки позволяют создавать задания различных видов, например, задание на исполнение, на согласование, на контроль, на консолидацию документа и пр. Виды могут различаться по набору допустимых действий, состояний и набору данных, которые доставляются пользователю. В том числе, карточка может использоваться в качестве контейнера для других карточек.

.В карточке реализованы следующие операции:
* xref:task/Tcard_perform_log_view.adoc[Просмотр] хода исполнения.
* xref:task/Tcard_hand_delegating.adoc[Настройка] делегирования вручную.
* xref:task/Tcard_performer_busines_calendar.adoc[Подключение] бизнес-календаря исполнителя задания.
* xref:task/Tcard_routing_type.adoc[Настройка] типа маршрутизации задания.
* xref:task/Tcard_slavetask_type.adoc[Выбор] вида подчиненного задания.
* xref:task/Tcard_reject_comment_requst.adoc[Запрос] комментария при отклонении задания.
* xref:task/Tcard_copy_fields_to_slave_task.adoc[Копирование] полей в подчиненное задание.
* xref:task/Tcard_finish_settings.adoc[Настройка] способа завершения задания.
* xref:task/Tcard_change_deadline.adoc[Иизменение] сроков исполнения задания.
* xref:task/Tcard_print.adoc[Печать] карточки.
* xref:task/Tcard_change_state.adoc[Смена] состояний карточки.

.Дополнительно могут быть выполнены:
* Настройка состава полей (динамических).
* Расширение базовой машины состояний задания.
* Формирование дополнительных событий и определение логики обработки событий.
* Настройка ролевой модели (в частности прав на обрабатываемый документ).
* Возможность настройки дизайнов для различных состояний, видов и ролей.
* Возможность добавления связанных карточек.

[#interface]
== Интерфейс карточки "Задание"

Интерфейс карточки _Задание_ определяется разметкой, которая настроена для данной карточки в _Конструкторе разметок_.

В данном разделе приведено описание _базовой_ разметки карточки _Задание_, которая используется для карточки при отсутствии установленных для _{dv} 5_ дополнительных компонентов (приложения _{ud}_ и др.).

[NOTE]
====
Описание интерфейса карточки в случае использования приложений и дополнительных модулей содержится в документации по продуктам.
====

При необходимости _базовая_ разметка может быть изменена администратором.

.Базовая разметка карточки "Задание" для Автора задания
image::task-card-layout.png[Базовая разметка карточки "Задание" для Автора задания]

.Основными элементами карточки Задание являются:
* <<ribbon,Лента>>.
* Область вложений.
* Область предварительного просмотра.
* Главное меню.
* Вкладка _Создание задания_.
* Вкладка _Ход исполнения_.
* Вкладка _Журнал_.
* Вкладка _Настройки_.
* Вкладка _Расширенные настройки_.
* Строка состояния.

[#ribbon]
=== Лента карточки "Задание"

На ленте карточки _Задание_ расположены основные команды для работы с карточкой. Состав команд может быть различным в зависимости от настройки вида и разметки карточки. Ниже представлена лента с базовым набором команд.

.Лента карточки "Задание"
image::task-card-ribbon.png[Лента карточки "Задание"]

Команды ленты разделены на функциональные группы: _Общие_, _Действия_, _Создание карточки_, _Комментарии_, _Подписи_.

[cols="20%,5%,20%,50",options="header"]
|===
|Группа |Кнопка |Название |Описание

|Общие
|image:buttons/save.png[Сохранить]
|Сохранить
|Сохранить изменения в карточке.

|
|image:buttons/save-create.png[Сохранить и создать]
|Сохранить и создать
|Сохранить изменения в карточке и создать новую карточку того же вида.

|Действия
|image:buttons/perform.png[Цветные квадратики]
|Выполнить
|Перейти к другому (заранее настроенному) состоянию карточки. Для карточки задания используется типовой набор состояний и переходов (автомат состояний), который может быть дополнительно расширен.

|
|image:buttons/calendar-dates.png[Листы календаря]
|Изменить сроки
|Перенести сроки исполнения задания.

|Создание карточки
|image:buttons/create-card.png[Создать картоку]
|Создание карточки
|Создать связанную карточку. Кнопка содержит типы ссылок, которые могут быть использованы для создания карточки данного вида (настраиваются в _Справочнике видов карточек_).

|Комментарии
|image:buttons/comment-bubble-plus.png[Комментарии с плюсом]
|Добавить
|Добавить новый комментарий. Наличие и доступность кнопок настраивается в _Конструкторе состояний_ (доступность операций для текущего состояния) и _Конструкторе ролей_ (наличие у роли прав на работу с комментариями).

|
|image:buttons/comment-bubble-pencil.png[Комментарии с карандашом]
|Редактировать
|Изменить комментарий.

|
|image:buttons/comment-view-magn-glass.png[Комментарии с лупой]
|Просмотреть
|Просмотреть комментарий.

|
|image:buttons/comment-bubble-x.png[Комментарии с крестиком]
|Удалить
|Удалить комментарий.

|Подписи
|image:buttons/sign-log.png[Зелёная печать]
|Журнал подписей
|Просмотр журнала подписей, а также проверка актуальности подписей.
|===

[#create-tab]
=== Вкладка "Создание задания"

На вкладке _Создание задания_ отображаются основные параметры карточки, которые можно настроить.

.Вкладка "Создание задания" для Автора задания
image::task-create-tab.png[Вкладка "Создание задания" для Автора задания]

.Вкладка включает следующие поля:
* xref:task/select-author.adoc[Автор].
* xref:task/Tcard_create_name.adoc[Название].
* xref:task/Tcard_create_name.adoc[Содержание].
* xref:task/Tcard_create_select_performer.adoc[Выбор исполнителя].
* _Важность_.
* xref:task/Tcard_create_deadline.adoc[Сроки].
* xref:task/Tcard_create_remind.adoc[Напоминания].
* xref:task/Tcard_create_controll.adoc[Контроль].

[#progress-tab]
=== Вкладка "Ход исполнения"

На вкладке _Ход исполнения_ xref:task/Tcard_perform_log_view.adoc[отображаются сведения] о состоянии исполнения задания.

.Вкладка "Ход исполнения" для Автора задания
image::task-process-tab.png[Вкладка "Ход исполнения" для Автора задания]

[#log-tab]
=== Вкладка "Журнал"

На вкладке _Журнал_ можно ознакомиться с журналом изменений карточки _Задание_.

Вкладка содержит таблицу, состоящую из трех столбцов: _Сотрудник_, _Дата_ и _Описание события_. Таким образом, имеется возможность посмотреть историю правок карточки, отслеживать жизненный цикл вложений и определить состав сотрудников, вовлеченных в работу над карточкой.

[#settings-tab]
=== Вкладка "Настройки"

На вкладке _Настройки_ определяются основные параметры задания: делегирование, бизнес-календарь, тип маршрутизации, а также вид подчиненного задания.

.Вкладка "Настройки" для Автора задания
image::task-settings-tab.png[Вкладка "Настройки" для Автора задания]

.На вкладке доступны для настройки следующие параметры:
* xref:task/Tcard_hand_delegating.adoc[Настройка] делегирования вручную.
* xref:task/Tcard_performer_busines_calendar.adoc[Подключить] для исполнителя бизнес-календарь.
* xref:task/Tcard_routing_type.adoc[Выбрать] тип маршрутизации задания.
* xref:task/Tcard_slavetask_type.adoc[Определить] вид подчиненных заданий.

[#advanced-tab]
=== Вкладка "Расширенные настройки"

На вкладке _Расширенные настройки_ можно настроить параметры заданий, влияющих на поведение карточки при смене состояний.

.Вкладка "Расширенные настройки" для Автора задания
image::task-advanced-settings-tab.png[Вкладка "Расширенные настройки" для Автора задания]
