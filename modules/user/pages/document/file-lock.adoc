= Блокирование и разблокирование файлов

В системе {dv} учтен распространенный сценарий работы с документами, при котором файл может изменяться вне системы документооборота, но впоследствии должен быть возвращен в карточку. Вывод файла вовне в рамках карточки документа называется _блокировкой_.

При взятии основного файла, вложенного в карточку, в работу, происходит его блокировка (заблокированный файл может быть открыт другими пользователями только для чтения). В данном режиме файл может быть изменён только тем пользователем, который ранее заблокировал этот файл и сохранил его где-либо на компьютере или в сети.

Для остальных пользователей {dv} данный файл будет доступен из карточки в режиме чтения. Если к карточке приложено несколько основных файлов, выгрузка из системы и блокировка могут выполняться как для отдельно взятого файла, так и для группы файлов. Чтобы выбрать выгружаемые файлы, выделите их. При выгрузке все файлы будут заблокированы.

После того как с файлом проделаны все необходимые изменения, он может быть возвращен в систему, то есть разблокирован. При разблокировании можно выбрать не только изменённый файл с тем же форматом и именем, но и любой другой файл, с отличным от исходного файла форматом и именем.

При выгрузке и загрузке файла создаётся новая версия. Для работы с версиями используется вкладка xref:document/card.adoc#versions["Версии"].

.Чтобы заблокировать файлы:
. Выполните любое из действий:
+
* Нажмите на ленте карточки на кнопку image:buttons/file-lock.png[Жёлтый замок закрыт] *Заблокировать для работы*.
* Правой клавишей мыши вызовите контекстное меню, затем выберите команду _Заблокировать для работы_.
* На вкладке _Версии_ выделите требуемую версию, затем нажмите на кнопку image:buttons/file-lock.png[Жёлтый замок закрыт] *Заблокировать для работы*.
+
. Чтобы вернуть изменённый файл в систему, выполните любое из действий:
+
* Нажмите на ленте кнопку image:buttons/file-unlock.png[Жёлтый замок открыт] *Вернуть с блокировки*.
* Правой клавишей мыши вызовите контекстное меню, затем выберите команду _Вернуть с блокировки_.
* На вкладке _Версии_ выделите требуемую версию, затем нажмите на кнопку image:buttons/file-unlock.png[Жёлтый замок открыт] *Вернуть с блокировки* панели инструментов вкладки.
+
Будет открыто окно для выбора новой версии или другого файла, которым необходимо заменить прежний файл в карточке документа. Название и формат нового добавленного файла (включая копию файла) будет отображаться на вкладке xref:document/card.adoc#versions["Версии"] карточки.
+
. Чтобы разблокировать файл, не внося в него изменений, выполните любое из действий:
+
* Нажмите на ленте карточки на кнопку image:buttons/file-unlock.png[Жёлтый замок открыт] *Отменить блокировку*.
* Правой клавишей мыши вызовите контекстное меню, затем выберите команду _Отменить блокировку_.
* На вкладке "Версии" выделите требуемую версию, затем нажмите на кнопку image:buttons/file-unlock.png[Жёлтый замок открыт] *Отменить блокировку*.
+
Аналогично производится возврат с блокировки при выгрузке группы файлов.
