[[ariaid-title1]]
== Добавление локализации разметки

Добавление локализации не является необходимой операцией при работе с системой Docsvision. Создание новых локализаций необходимо выполнять в случае, когда при работе с [.dfn .term]_Docsvision_ предполагается использовать несколько иностранных языков и может потребоваться добавить несколько вариантов перевода для новых "пользовательских" полей, добавляемых в карточки при внедрении системы.

Язык интерфейса напрямую зависит от зависит от того языка, который настроен для клиентского приложения (задан в параметрах Windows-клиент или был указан при старте [.dfn .term]_РМА Docsvision_). При открытии клиентского приложения, язык интерфейса (главного окна приложений) будет определяться данными настройками, а язык разметки карточек будет определяться по следующим правилам:

* если для выбранного языка клиентского приложения не будет найдено соответствующей локализованной разметки, в карточках будет показана разметка, заданная по умолчанию;
* если для выбранного языка клиентского приложения будет найдена соответствующая локализация, в карточках будет показана разметка найденной локализации.

Так, если при работе с системой [.dfn .term]_Docsvision_ предполагается использование только русского языка, добавление локализации RU не требуется. Если же предполагается использовать в работе, помимо русского, например, еще и английский язык, то рекомендуется в настройках клиентского приложения Windows-клиент добавить две локализации - RU и EN.

Локализация добавляется для вида карточки. Для всех разметок вида будет доступен одинаковый набор доступных локализаций.

Список локализаций, настроенный для вида, автоматически распространяется только на элементы управления. Описание настройки локализации для ленты карточек содержится в разделе xref:lay_Set_ribbon_rename.adoc[Переименование и локализация названий элементов ленты].

Чтобы добавить новую локализацию для разметки, выполните следующие действия:

. [.ph .cmd]#В главном окне [.dfn .term]_Конструктора разметок_ выберите значения полей [.keyword]*Библиотека карточек* и [.keyword]*Вид карточки*.#
+
На ленте конструктора появятся элементы для настройки локализации: кнопка image:images/Buttons/lay_Locale.png[image] и поле [.keyword]*Локализация*, содержащее список доступных для переключения языков. В поле будет отображена локализация, используемая по умолчанию.

image::images/lay_Locale_main_window_fields.png[[.fig--title-label]##Рис. 1. ##Элементы ленты для настройки локализации разметки карточки]
. [.ph .cmd]#Нажмите кнопку image:images/Buttons/lay_Locale.png[image].#
+
Будет открыто окно [.keyword .wintitle]*Локализация разметок вида*, в котором можно добавить или удалить существующие локализации.

image::images/lay_Locale_empty.png[[.fig--title-label]##Рис. 2. ##Окно редактирования локализаций]
. [.ph .cmd]#Чтобы добавить локализацию, нажмите image:images/Buttons/lay_add_green_plus.png[image].#
+
По умолчанию будет добавлена локализация [.keyword .parmname]_en_.

image::images/lay_Locale_en.png[[.fig--title-label]##Рис. 3. ##Первичное добавление локализации]
. [.ph .cmd]#Чтобы изменить вариант локализации, щелкните левой клавишей по записи, которую требуется изменить. Затем выберите требуемую локализацию из выпадающего списка доступных локалей и нажмите [.keyword]*ОК*. #
+
Каждый язык может быть добавлен только один раз. При повторном выборе уже добавленного языка появится сообщение: `Выбранная локаль уже                         добавлена`.
+
image::images/lay_Locale_list.png[[.fig--title-label]##Рис. 4. ##Выбор языка локализации]
+
При сохранении изменений для разметки будет сгенерирован [.ph .filepath]`*.xml` файл, в котором в дальнейшем будут сохранены параметры локализуемых свойств [.dfn .term]_дополнительных_ элементов управления.
. [.ph .cmd]#Выполните настройку локализации [.dfn .term]_дополнительных_ элементов управления. #

*На уровень выше:* xref:../pages/lay_Layout_locale.adoc[Локализация разметки]
