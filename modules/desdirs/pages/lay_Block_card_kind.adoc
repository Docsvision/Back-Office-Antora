= Блокировка вида карточек для редактирования

_Конструктор разметок_ является многопользовательским справочником – разметки могут параллельно настраивать несколько пользователей, со следующими условиями:

. Пользователи должны настраивать разные виды карточек: разметки одного вида может одновременно настраивать только один пользователь.
. Пользователь должен заблокировать для редактирования вид карточек, разметки которого настраивает.

Возможность настройки разметок есть только у пользователя, заблокировавшего вид для редактирования. Пользователь может заблокировать для редактирования любое количество видов. Если вид не заблокирован или заблокирован другим пользователем, настройки разметок будут доступны только на чтение.

[NOTE]
====
Особенность работы: _Конструктор разметок_ позволяет изменять настройки элементов управления разметки незаблокированного или заблокированного другим пользователем вида карточек, но при закрытии сделанные изменения будут утеряны.
====

Вид остается заблокированным до разблокировки, которую может выполнить любой пользователь с правами администратора Docsvision. Снятие "чужой" блокировки сопровождается дополнительным предупреждением.

Кроме _Конструктора разметок_ есть еще несколько конструкторов, поддерживающих возможность параллельной работы пользователей. Вид карточек, заблокированный в одном из них, будет заблокирован для редактирования и в остальных многопользовательских конструкторах. Аналогичный принцип действует и при разблокировке вида карточек.

[NOTE]
====
Возможность параллельной работы поддерживают _Конструктор разметок_, _Конструктор состояний_, _Конструктор ролей_ и _Конструктор скриптов_.
====

.Текущее состояние блокировки вида карточек отображается:
* в дереве видов карточек (при xref:lay_Select_card_kind.adoc[выборе вида]) в форме значка "Замок" слева от названия вида:
** image:buttons/lay_ico_mylock.png[image] (зеленый) – блокировка установлена текущим пользователем;
** image:buttons/lay_ico_someonelock.png[image] (красный) – блокировка установлена другим пользователем;
** значок отсутствует – вид карточек не заблокирован;
+
.Дерево видов карточек с "чужой" блокировкой вида "На исполнение"
image::lay_KindTreeWithLock.png[Дерево видов карточек с "чужой" блокировкой вида "На исполнение"]
+
* на ленте _Конструктора разметок_ в виде значка "Замок" на кнопке блокировки/разблокировки вида карточек:
** image:buttons/lay_KindLocked.png[image] (зеленый) – блокировка установлена текущим пользователем;
** image:buttons/lay_SomeoneKindLocked.png[image] (красный) – блокировка установлена другим пользователем;
+
[NOTE]
====
Наведите курсор мыши на кнопку блокировки/разблокировки вида, чтобы узнать ФИО сотрудника, установившего блокировку.
====
+
** image:buttons/lay_KindUnlocked.png[image] (синий) – вид карточек не заблокирован.

.Чтобы заблокировать для редактирования xref:lay_Select_card_kind.adoc[выбранный] вид карточек:
. Нажмите на ленте на кнопку image:buttons/lay_LockKind.png[image].
. Подтвердите установку блокировки для редактирования. Значок на кнопке блокировки изменится на image:buttons/lay_KindLocked.png[image]; разметки вида карточек станут доступны для редактирования; вид будет заблокирован для редактирования во всех конструкторах, поддерживающих параллельную работу.

.Чтобы снять *свою* блокировку с выбранного вида карточек:
. Закончите изменение настроек данного вида карточек *во всех конструкторах*, поддерживающих параллельную работу, т.к. при снятии блокировки данный вид станет доступен для изменения другим пользователям.
. Нажмите на ленте на кнопку image:buttons/lay_UnlockKind.png[image].
. Подтвердите снятие блокировки. Изменения, сделанные в _Конструкторе разметок_, будут сохранены; значок на кнопке блокировки изменится на image:buttons/lay_KindUnlocked.png[image]; вид будет разблокирован во всех конструкторах, поддерживающих параллельную работу.

.Чтобы снять *чужую* блокировку с выбранного вида карточек:
. Убедитесь, что настройки, сделанные другим пользователем, сохранены или сохранение не требуется.
. Нажмите на ленте на кнопку image:buttons/lay_SomeoneUnlockKind.png[image].
. Подтвердите снятие блокировки. Значок на кнопке блокировки изменится (на image:buttons/lay_KindUnlocked.png[image]); вид будет разблокирован во всех конструкторах, поддерживающих параллельную работу.

