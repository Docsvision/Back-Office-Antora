= Настройка элементов управления

Элемент, добавленный в карточку, может быть настроен или как _поле_, или как _свойство_. По умолчанию, добавленный в карточку элемент является _свойством_.

При работе с настроенной карточкой, для полей и свойств будут различаться способы построения поисковых запросов и представлений.

Данные всех свойств хранятся в разделе *Свойства*, который представляет собой таблицу атрибутов выбранного элемента. Работа со свойствами осуществляется через элементы управления карточки, обращающиеся к разделу *Свойства*. Это не является эффективным из-за относительно невысокой производительности и затруднений, возникающих при настройке запроса атрибутивного поиска и представления.

Данные _поля_ хранятся в самом поле. Для поля элементы управления, размещенные на карточке в режиме настройки, привязываются не к разделу *Свойства*, а к самому этому полю. Чтобы выполнить привязку, следует установить атрибуты _Источник данных_ и _Поле данных_. В качестве источника данных выбирается раздел карточки, а в качестве поля– нужное поле из выбранного раздела. После этого, элемент управления будет читать и сохранять данные в указанное поле. Таким образом, атрибутивный поиск по данному полю не будет отличаться от стандартного поиска системы _{dv}_.

Атрибуты (свойства) категории *Внешний вид*, а также атрибуты _Видимость_, _Только для чтения_ и _Обязательное_ настраиваются для каждой разметки. Все остальные атрибуты имеют одинаковое значение для всех разметок одного типа карточки.

Во всех элементах, предполагающих выбор значений из справочников, доступен быстрый поиск по подстроке.

.Чтобы настроить элемент управления:
. Выполните любое из действий:
* Дважды щелкните левой клавишей мыши по элементу в области _Разметки_;
* Щелкните правой кнопкой мыши по нужному элементу на панели _Структура разметки_ и выберите пункт *Свойства*.
+
Будет открыто окно свойств элемента.
+
.Окно свойств элемента управления
image::lay_ControlElement_properties.png[Окно свойств элемента управления]
+
. Заполните свойства элемента.
. Чтобы раскрыть полный список свойств элемента, в описанном выше окне нажмите на ссылку *Больше*.
+
При этом будет открыто окно расширенных свойств элемента.
+
Атрибуты сгруппированы по категориям. Часть атрибутов является общей для всех элементов управления, кроме того, для некоторых элементов доступны для настройки специфические атрибуты.
+
.Окно расширенных свойств элемента управления
image::lay_ControlElement_properties_extra.png[Окно расширенных свойств элемента управления]
+
. Заполните xref:layouts/lay_Control_elements.adoc[свойства] элемента.
. Чтобы добавить собственный скрипт для элемента разметки: и нажмите на кнопку справа от названия.
+
.. Перейдите на вкладку *События*.
+
.Окно событий элемента управления
image::lay_ControlElement_events.png[Окно событий элемента управления]
+
.. Выберите строку события, для которого настраивается обработчик.
.. Нажмите кнопку *…* в строке с названием обработчика.
.. Реализуйте метод-обработчик (будет добавлен автоматически) на языке C# или VB .Net (зависит от языка, выбранного для скрипта данного вида карточек).
+
При реализации обработчика доступны +++публичные+++ методы, реализованные в родительских видах данного подвида карточек.
+
.. Сохраните настройки скрипта карточки.
. После завершения настройки данного элемента управления или разметки, сохраните настройки разметки.
+
Заранее настроенные (стандартные) элементы управления в карточках документов и заданий могут быть удалены из разметки. В таком случае они появляются в списке доступных элементов области _Панель инструментов_ после повторного открытия _Конструктора разметок_, или после повторного выбора вида карточки.
