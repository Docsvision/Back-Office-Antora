= Дерево связей

== Назначение

Элемент предназначен для отображения и работы с иерархией дочерних карточек, связанных с текущей. Элемент может использоваться в пользовательских карточках, а также может быть вызван посредством скриптов.

Элемент включает граф с иерархией карточек, а также панель для изменения значений параметров, заданных по умолчанию (родительская карточка, глубина отображения). Параметры, которые были изменены при помощи панели настроек для текущей карточки, будут применены только к данной карточке.

В поле *Родительская карточка* можно выбрать нужную карточку. Поскольку один и тот же элемент может входить в различные цепочки, иерархию карточек можно перестроить, указав родительской другую карточку из текущей иерархии. Значение может быть изменено в процессе работы с элементом.

Также элемент включает кнопку для печати. Граф будет распечатан как рисунок.

== Отображение в области "Панель инструментов"

.Отображение в области "Панель инструментов"
image::lay_Element_LinksTree.png[Отображение в области "Панель инструментов"]

== Отображение в запущенной карточке

.Отображение в запущенной карточке
image::lay_Card_LinksTree.png[Отображение в запущенной карточке]

== Общие

xref:layouts/lay_Elements_general.adoc[Общие свойства элементов управления]

== Поведение

Глубина отображения::
Количество уровней вложенности, на которое будут отображены связанные карточки. По умолчанию задано 5 уровней. Значение может быть изменено в процессе работы с элементом.
Типы ссылок::
Доступные типы ссылок {dv}, которые различаются по способу взаимодействия связанных документов:
+
* _None_ -- нет ссылки;
* _Weak_ -- слабая ссылка. Слабая ссылка представляет собой независимую запись, удаление которой не влияет на указываемый ею элемент; с другой стороны, при удалении указываемого элемента ссылка также не претерпевает никаких изменений;
* _Hard_ -- сильная ссылка. Сильной называется ссылка, удаление которой влечет за собой удаление из системы указываемого ею элемента. При соединении карточек сильной ссылкой перетекают права на карточки. Права не перетекают по второй и последующим сильным ссылкам;
* _Auto_ -- автоматическая ссылка. Автоматическая ссылка по своему назначению аналогична слабой, но удаляется при удалении элемента, на который она ссылается;
* _All_ -- любой тип ссылки (значение по умолчанию).

== Данные

Источник данных::
Не требует привязки к полю.
Типы карточек::
В поле определяется возможность отображения в дереве связей определенных типов и видов карточек. Для выбранного вида имеется возможность автоматического добавления дочерних видов. Для настройки данной возможности следует выбрать вид в окне *Разрешенные типы и виды*, затем вызвать контекстное меню для этого вида и включить опцию _Включая дочерние_ (контекстное меню появится при наличии флага, установленного напротив требуемого вида). При включении опции, новые создаваемые подчиненные виды автоматически добавляются в элемент управления и становятся доступными для выбора.

== Настройка локализации

Допускается xref:layouts/layout-localize.adoc#localize-general[локализация _общих_ свойств] элемента. Описание настройки локализации содержится в разделе xref:layouts/lay_Elements_general.adoc[Общие свойства элементов управления].
