= Настройка параметров задания

== Выбор автора

В создаваемой карточке _Задание_ имеется поле *Автор*, в которое при создании карточки автоматически подставляется имя пользователя, работающего с системой. Значение данного поля может быть изменено путем выбора из _Справочника сотрудников_ другого пользователя. В этом случае задание будет отправлено от имени нового пользователя.

При необходимости возможность выбора других авторов для заданий может быть запрещена.

.Чтобы разрешить/запретить выбор авторов для задания:
. Перейдите на вкладку *Задание*.
. Установите нужное положение флага *Разрешить выбор автора из справочника сотрудников*:
+
* Установите флаг, чтобы разрешить выбор автора непосредственно из карточки задания. По умолчанию флаг установлен;
* Снимите флаг, чтобы запретить выбор автора непосредственно из карточки задания.
+
.Флаг управления выбором автора в карточке "Задание"
image::cSub_Task_Task_Author.png[Флаг управления выбором автора в карточке "Задание"]
+
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.

== Режим открытия вложенной карточки

Вложенная в задание карточка (отображается на _панели вложений_) по умолчанию открывается в режиме чтения, а для перехода в режим редактирования пользователь должен использовать команду *Перейти в режим редактирования* на ленте карточки.

.Если необходимо, чтобы вложенная карточка сразу открывалась в режиме редактирования:
. Перейдите на вкладку *Задание*.
. Измените *Режим открытия вложений*:
+
* Редактирование -- приложенная к заданию карточка будет открываться в режиме редактирования;
* Чтение -- приложенная к заданию карточка будет по умолчанию открываться в режиме чтения.
+
.Флаг отображением вложений в карточке "Задание"
image::cSub_Task_Task_ViewAttachment.png[Флаг отображением вложений в карточке "Задание"]
+
. Установите флаг *По умолчанию отображать вложенную карточку*, если вложенная карточка должна сразу открываться при открытии карточки _Задание_.
+
По умолчанию для открытия приложенной к _Заданию_ карточки сотрудник должен выбрать её на _панели вложений_. Данный флаг активирует режим, при котором вложение будет сразу открываться при открытии карточки _Задание_ в режиме, выбранном в настройке *Режим открытия вложений*.
+
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.

== Классификация ссылок

Для ссылок, добавляемых в карточку _Задание_, можно определить правило классификации. Приложенным к заданию карточкам можно присвоить статус _Основного документа_, либо _Дополнения_, либо _Отчета_.

.Чтобы настроить способ классификации ссылок:
. Перейдите на вкладку *Задание*.
. Выберите типы ссылок для дальнейшей классификации в полях:
* Типы ссылок для основного документа;
* Типы ссылок для дополнений;
* Типы ссылок для отчетов.
+
.Пример настройки конфигурации ссылок
image::cSub_Task_Task_References.png[Пример настройки конфигурации ссылок]
+
. Чтобы связанные с заданием карточки вложений отображались в карточке _Задание_, установите для требуемого типа ссылок флаг *Показывать в области вложений*.
+
.Пример вложения карточки "Документ" в карточку "Задание"
image::cSub_Task_Task_References_attach_view.png[Пример вложения карточки "Документ" в карточку "Задание"]
+
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.

== Комментарий при отклонении задания

Для исполнителя, который по какой-либо причине отклоняет полученное задание, можно настроить обязательный ввод комментария. В этом случае, при выборе операции отклонения задания, у исполнителя будет появляться окно, в которое необходимо будет ввести описание причины отклонения задания (отпуск, командировка и т.п.).

.Чтобы настроить запрос комментария при отклонении задания:
. Перейдите на вкладку *Задание*.
. Найдите область настроек *Отклонение задания*.
+
В заголовке области отображается подсказка *Разрешено менять в задании*, указывающая, что указанные параметры можно изменять непосредственно в карточке задания.
. Установите нужное положение флага *Запрашивать комментарий при отклонении задания*:
* Установите флаг, чтобы разрешить запрос комментария;
* Снимите флаг, чтобы запретить запрос комментария.
+
.Флаг управления запросом комментария при отклонении задания
image::cSub_Task_Task_Reject.png[Флаг управления запросом комментария при отклонении задания]
+
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.
+
При выполнении операции отклонения задания у назначенного исполнителя задания будет появляться окно, в котором следует написать причину отказа.
+
.Результат настройки запроса комментария
image::cSub_Task_Task_Reject_result.png[Результат настройки запроса комментария]

== Тип маршрутизации

Пользователь, назначенный исполнителем задания, может получать задания различными способами. Данные способы определяются при помощи настроенного для вида карточки _Задание_ типа маршрутизации.

.Чтобы настроить тип маршрутизации для задания:
. Перейдите на вкладку *Задание*.
. Найдите область настроек *Тип маршрутизации*.
+
В заголовке области отображается подсказка *Разрешено менять в задании*, указывающая, что указанные параметры можно изменять непосредственно в карточке задания.
. В поле *Маршрутизация* выберите из списка доступный для задания xref:staff_RoutTypes.adoc[тип маршрутизации].
+
.Выбор способа маршрутизации задания
image::cSub_Task_Task_RoutTypes.png[Выбор способа маршрутизации задания]
+
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.
+
Исполнитель задания получит карточку способом, который определяется выбранным типом маршрутизации.

== Выбор исполнителя

Для выбора исполнителя в карточке _Задание_ предназначено поле *Выбор исполнителя*. Настройка данного поля выполняется для пользовательского вида карточки в _Справочнике видов карточек_.

.Чтобы настроить поле *Выбор исполнителя* карточки _Задание_ пользовательского вида:
. Перейдите на вкладку *Задание*.
. Найдите область настроек *Выбор исполнителя*.
. Чтобы сделать доступным выбор любого сотрудника из _Справочника сотрудников_, установите флаг *Исполнителем заданий этого вида может быть любой сотрудник*.
. Чтобы сделать доступным окно для выбора сотрудника из сформированного списка сотрудников, установите флаг *Выбрать исполнителя из списка* и укажите элементы списка.
+
При формировании списка допускается выбор не только конкретных сотрудников, но также и подразделений, групп, ролей. Также выбор возможен по определенным xref:card-kinds/SearchWords_performer.adoc[поисковым словам].
+
.Выбор поисковых слов
image::cSub_Task_Task_SearchWords.png[Выбор поисковых слов]
+
. Чтобы в карточке _Задание_ данного вида при выборе исполнителей отображался список из последних 10 исполнителей, установите флаг *Показывать последних исполнителей*.
+
.Пример отображения списка последних исполнителей в карточке
image::cSub_Task_Card_last_performers.png[Пример отображения списка последних исполнителей в карточке]
+
. Флаг *Использовать бизнес-календарь* разрешит использование настроек рабочего времени, заданных в календаре, при расчете дат начала, завершения и длительности задания.
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.
+
В созданной карточке _Задание_ данного пользовательского вида поле *Выбор исполнителя* можно будет использовать в соответствии с выполненными настройками.

=== Поисковые слова для исполнителя

Руководитель::
Будет найден сотрудник, который в _Справочнике Сотрудников_ указан как руководитель автора карточки _Задание_. В случае делегирования будет найден руководитель сотрудника, делегировавшего задание;
Подчиненные::
Будут найдены сотрудники данного подразделения, для которых автор карточки _Задание_ в _Справочнике Сотрудников_ указан как руководитель. В случае делегирования будут найдены подчиненные сотрудника, делегировавшего задание;
Все подчиненные::
Сотрудники всех подразделений, для которых автор карточки _Задание_ в _Справочнике Сотрудников_ указан как непосредственный руководитель или является руководителем вышестоящего подразделения. В случае делегирования будут найдены подчиненные сотрудника, делегировавшего задание;
Замещаемые::
Будут найдены сотрудники, для которых автор карточки _Задание_ в _Справочнике Сотрудников_ указан как заместитель. В случае делегирования будут найдены сотрудники, замещаемые по отношению к делегату задания;
Подразделения, в которых автор -- руководитель::
Будут найдены все подразделения, в которых автор карточки _Задание_ в _Справочнике Сотрудников_ указан как руководитель. В случае делегирования будут найдены подразделения сотрудника, делегировавшего задание;
Сотрудники департамента автора::
Будут найдены сотрудники департамента, к которому принадлежит автор карточки _Задание_. В случае делегирования будут найдены сотрудники подразделения делегата;
Заместители::
Будут найдены сотрудники, указанные в качестве заместителей для автора карточки _Задание_ в _Справочнике Сотрудников_. В случае делегирования будут найдены заместители сотрудника, делегировавшего задание.
