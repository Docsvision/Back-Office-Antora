[[ariaid-title1]]
== Добавление перехода между состояниями

Между двумя состояниями может быть несколько операций перехода, однако обычно переходы используются для ветвления между большим количеством состояний.

Следует учитывать, что стандартная операция перехода между состояниями в карточке не приводит к выполнению каких-либо действий, а только меняет состояние карточки. Назначить автоматическое выполнение каких-либо действий с карточкой при переходе между состояниями можно, написав собственный скрипт. Привязка скрипта к элементам управления производится в [.dfn .term]_Конструкторе разметок_, а для редактирования самого скрипта предусмотрен [.dfn .term]_Конструктор скриптов_.

[NOTE]
====
[.note__title]#Внимание:# При изменении автомата состояний для вида, который уже используется карточками следует учитывать, что корректная работа этих карточек может быть нарушена (например, удаление перехода может привести к недоступности карточек данного вида).
====

Чтобы использовать операцию для перехода от одного состояния к другому, выполните следующие действия:

. [.ph .cmd]# Убедитесь, что в области автомата состояний имеется хотя бы два состояния (в противном случае второе состояние нужно создать) #
. [.ph .cmd]#Щелкните левой кнопкой мыши по состоянию, из которого нужно сделать переход, и перетащите стрелку на целевое состояние (в которое будет сделан переход). #
+
image::images/state_Transition.png[[.fig--title-label]#Рис. 1. # Создание нового перехода между состояниями]
. [.ph .cmd]#Переход между состояниями обязательно должен сопровождаться какой-либо операцией (как одной, так и несколькими). После того, как два состояния соединены стрелкой перехода, будет показано окно [.keyword]*Выбор операции перехода*.#
+
image::images/state_SelectTransitionOperation.png[[.fig--title-label]#Рис. 2. # Выбор операции перехода]
. [.ph .cmd]#Выберите из списка нужную операцию. #
. [.ph .cmd]#При необходимости, создайте новую операцию. Для этого нажмите на кнопку image:images/Buttons/state_square_plus.png[image] в правой части поля. Появится окно, аналогичное окну для xref:state_State_rename.adoc[переименования] операции.#
+
После того, как операция перехода создана, она автоматически перемещается в главном окне [.dfn .term]_Конструктора состояний_ из области [.keyword]*Операции редактирования* в область [.keyword]*Операции перехода*.
. [.ph .cmd]#Если для операции перехода настроены несколько состояний, у пользователя дополнительно появится окно [.keyword]*Выбор основной ветки перехода*, в котором следует конкретизировать переход. #
+
После выполнения выбора, неосновная ветка будет нарисована пунктиром.

image::images/state_SelectTransitionOperation_main_branch.png[[.fig--title-label]##Рис. 3. ##Выбор основной ветки перехода]

Автомат состояний, заранее настроенный для карточек _Задание_, содержит операции перехода, привязанные к определенным действиям в системе. Для того чтобы пользовательская операция перехода была связана с нужным действием, следует использовать редактор скриптов в [.dfn .term]_Конструкторе разметок_. Также имеются особенности настройки состояний для использования параметров завершения для карточек видов [.dfn .term]_Задание УД_.

*На уровень выше:* xref:../pages/state_Work.adoc[Работа с конструктором]
