= Редактирование расширенных метаданных

Редактировать расширенные метаданные могут только администраторы {dv}.

При использовании расширенных метаданных необходимо учитывать, что элементы управления могут быть привязаны к полям определенных типов. Без привязки в элементах не будут сохраняться значения.

.Требуемые настройки некоторых типовых элементов.
[options="header"]
|===
|Элемент управления |Тип секции |Тип поля |Ссылка
|Сотрудник |Struct |RefID |Базовые карточки > Справочник сотрудников > Подразделения > Сотрудники
|Сотрудники |Table |RefID |Базовые карточки > Справочник сотрудников > Подразделения > Сотрудники
|Строка конструктора справочников |Struct |RefID |Базовые карточки > Конструктор справочников >Типы записей > Запись
|===

Если расширенное поле используется в поисковом запросе, представлении или каком-либо другом компоненте системы и было удалено, корректная работа соответствующих компонентов будет нарушена.

.Чтобы изменить расширенное поля:
. Выполните любое из действий:
* нажмите на кнопку *Редактирование динамических метаданных* на ленте главного окна _Конструктора разметок_;
* нажмите на кнопку в малой форме свойств элемента управления;
* воспользуйтесь меню выбора источника данных в окне расширенных свойств элемента управления.
+
Будет открыто окно редактирования расширенных метаданных, которое содержит дерево стандартных ("обычных") метаданных, т.е. элементов схем карточек. Элементы представляют собой иерархию секций и полей, на основе которых создаются стандартные карточки.
+
.Окно редактирования расширенных метаданных
image::lay_Metadata_edit.png[Окно редактирования расширенных метаданных]
+
. Нажмите на панели инструментов на кнопку image:buttons/lay_LockKind.png[image], чтобы заблокировать метаданные для редактирования. Значок блокировки на кнопку изменится на image:buttons/lay_ico_mylock.png[image]; панель инструментов будет разблокирована.
+
Если метаданные заблокированы другим пользователем, вместо кнопки image:buttons/lay_LockKind.png[image] будет отображаться значок image:buttons/lay_ico_someonelock.png[image]. Дождитесь завершения редактирования метаданных другим пользователем -- наведите курсор мыши на значок image:buttons/lay_ico_someonelock.png[image], чтобы узнать ФИО пользователя, заблокировавшего метаданные.
+
Блокировка будет автоматически снята при закрытии Конструктора разметок (с сохранением настроек или без сохранения).
+
. Создайте собственные ветки секций, добавьте в созданные секции пользовательские поля.
. Сохраните изменения.
. *Перезапустите сервисы и клиенты {dv}*.
+
После добавления или изменения расширенных или динамических метаданных необходимого очистить кэш клиентских и серверных процессов {dv}. Для этого перезапустите все экземпляры сервера {dv} (StorageServer, IIS, включая экземпляры данных процессов на узлах кластера {dv}), Workflow (включая экземпляры сервиса Workflow на узлах кластера Workflow), экземпляры {wincl}а, все экземпляры сервера {wc} и т. д.
