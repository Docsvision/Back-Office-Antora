[[ariaid-title1]]
== Редактирование расширенных метаданных

Редактировать расширенные метаданные могут только администраторы Docsvision.

При использовании расширенных метаданных необходимо учитывать, что элементы управления могут быть привязаны к полям определенных типов. Без привязки в элементах не будут сохраняться значения.

В таблице ниже показаны требуемые настройки для некоторых типовых элементов.

[cols=",,,",options="header",]
|===
|Элемент управления |Тип секции |Тип поля |Ссылка
|Сотрудник |Struct |RefID |Базовые карточки > Справочник сотрудников > Подразделения > Сотрудники
|Сотрудники |Table |RefID |Базовые карточки > Справочник сотрудников > Подразделения > Сотрудники
|Строка конструктора справочников |Struct |RefID |Базовые карточки > Конструктор справочников >Типы записей > Запись
|===

Если расширенное поле используется в поисковом запросе, представлении или каком-либо другом компоненте системы и было удалено, корректная работа соответствующих компонентов будет нарушена.

Чтобы изменить расширенное поля, выполните следующие действия:

. [.ph .cmd]#Выполните любое из действий:#
* нажмите на кнопку *Редактирование динамических метаданных* на ленте главного окна [.dfn .term]_Конструктора разметок_;
* нажмите на кнопку в малой форме свойств элемента управления;
* воспользуйтесь меню выбора источника данных в окне расширенных свойств элемента управления.
+
Будет открыто окно редактирования расширенных метаданных, которое содержит дерево стандартных ("обычных") метаданных, т.е. элементов схем карточек. Элементы представляют собой иерархию секций и полей, на основе которых создаются стандартные карточки.

image::images/lay_Metadata_edit.png[[.fig--title-label]#Рис. 1. # Окно редактирования расширенных метаданных]
. [.ph .cmd]#Нажмите на панели инструментов на кнопку image:images/Buttons/lay_LockKind.png[image], чтобы заблокировать метаданные для редактирования. Значок блокировки на кнопку изменится на image:images/Buttons/lay_ico_mylock.png[image]; панель инструментов будет разблокирована.#
+
Если метаданные заблокированы другим пользователем, вместо кнопки image:images/Buttons/lay_LockKind.png[image] будет отображаться значок image:images/Buttons/lay_ico_someonelock.png[image]. Дождитесь завершения редактирования метаданных другим пользователем – наведите курсор мыши на значок image:images/Buttons/lay_ico_someonelock.png[image], чтобы узнать ФИО пользователя, заблокировавшего метаданные.
+
Блокировка будет автоматически снята при закрытии Конструктора разметок (с сохранением настроек или без сохранения).
. [.ph .cmd]#Создайте собственные ветки секций, добавьте в созданные секции пользовательские поля.#
. [.ph .cmd]#Сохраните изменения.#
. [.ph .cmd]#*Перезапустите сервисы и клиенты Docsvision*.#
+
После добавления или изменения расширенных или динамических метаданных необходимого очистить кэш клиентских и серверных процессов Docsvision. Для этого перезапустите все экземпляры сервера Docsvision (StorageServer, IIS, включая экземпляры данных процессов на узлах кластера Docsvision), Workflow (включая экземпляры сервиса Workflow на узлах кластера Workflow), экземпляры Windows-клиента, все экземпляры сервера Web-клиент и т. д.

* *xref:../pages/lay_Section_add.adoc[Добавление секции]* +
* *xref:../pages/lay_Field_add.adoc[Добавление, изменение и удаление поля]* +

*На уровень выше:* xref:../pages/lay_Work.adoc[Работа с конструктором]
